<h1>REGISTER FORM</h1>

@if(registerForm) {
<form [formGroup]="registerForm" (submit)="handleSubmit()">

    <!--AÑADIR LOS DIV CON LOS CAMPOS ROJOS Y MENSAJE DE "IS REQUIRED"-->
    <div>
        <label for="username">Nombre: </label>
        <input formControlName="username" type="text" id="username" name="username">
        <div>
            <!-- Con esta expresión evitarmos hacer un get en el controlador -->
            @if(registerForm.get('username')?.invalid && registerForm.get('username')?.touched) {
            <p class="form-error">El nombre es requerido y debe tener al menos 2 caracteres.</p>
            }
        </div>
    </div>



    <div>
        <label for="lastName">Apellidos: </label>
        <input formControlName="lastName" type="text" id="lastName" name="lastName">
        @if (registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched) {
        <p class="form-error">El apellido es requerido.</p>
        }
    </div>

    <div>
        <label for="email">Email: </label>
        <input formControlName="email" type="email" id="email" name="email" required placeholder="paper@paper.com">
    </div>

    <div>
        <label for="password">Contraseña:</label>
        <input formControlName="password" type="password" id="password" name="password">
        @if(registerForm.get('password')?.invalid) {
        <p class="form-error">La contraseña es requerida y debe tener al menos 6 caracteres.</p>
        }
    </div>

    <div>
        <label for="confirmPassword"> Confirma tu contraseña:</label>
        <input formControlName="confirmPassword" type="password" id="confirmPassword" name="confirmPassword">
        @if(registerForm.get('confirmPassword')?.invalid) {
        <p class="form-error">La contraseña es requerida y debe tener al menos 6 caracteres.</p>
        }
    </div>

    <div>
        <label for="age">Edad:</label>
        <input formControlName="age" type="number" id="age" name="age">
        @if (registerForm.get('age')?.hasError('min')) {
        <p class="form-error">Debes ser mayor de 18 años.</p>
        }
    </div>

    <div>
        <label for="birthDate">Fecha de nacimiento:</label>
        <input formControlName="birthDate" type="date" id="birthDate" name="birthDate">
        @if (registerForm.get('birthDate')?.hasError('tooYoung')) {
        <p class="form-error">Debes ser mayor de 18 años.</p>
        }
    </div>

    <div>
        <label for="gender">Género:</label>
        <input formControlName="gender" type="radio" id="gender" name="gender" value="male">Hombre
        <input formControlName="gender" type="radio" id="gender" name="gender" value="female">Mujer
        <input formControlName="gender" type="radio" id="gender" name="gender" value="other">Otro
        <input formControlName="gender" type="radio" id="gender" name="gender" value="noAnswer">Prefiero no decirlo
    </div>

    <div>
        <label for="country">País:</label>
        <select formControlName="country" id="country" name="country">
            <option value="spain">España</option>
            <option value="france">Francia</option>
            <option value="germany">Alemania</option>
            <option value="italy">Italia</option>
            <option value="portugal">Portugal</option>
            <option value="other">Otro</option>
        </select>
    </div>

    <div>
        <label for="FavouriteLanguajes">Lenguajes favoritos:</label>
        <input type="checkbox" formControlName="FavouriteLanguajes" id="FavouriteLanguajes" name="FavouriteLanguajes"
            value="javascript">JavaScript
        <input type="checkbox" formControlName="FavouriteLanguajes" id="FavouriteLanguajes" name="FavouriteLanguajes"
            value="python">Python
        <input type="checkbox" formControlName="FavouriteLanguajes" id="FavouriteLanguajes" name="FavouriteLanguajes"
            value="php">PHP
        <input type="checkbox" formControlName="FavouriteLanguajes" id="FavouriteLanguajes" name="FavouriteLanguajes"
            value="java">Java
        <input type="checkbox" formControlName="FavouriteLanguajes" id="FavouriteLanguajes" name="FavouriteLanguajes"
            value="otros">Otros
        @if(registerForm.get('FavouriteLanguajes')?.invalid && registerForm.get('FavouriteLanguajes')?.touched) {
        <p class="form-error">Selecciona al menos un lenguaje.</p>
        }
    </div>

    <div>
        <label for="profileImg">Foto de perfil:</label>
        <input type="file" id="profileImg" name="profileImg" alt="profileImg" (change)="onFileChange($event)">
        <p>{{ registerForm.get('profileImg')?.value?.name || 'No hay archivo seleccionado' }} </p>
    </div>

    <div>
        <label for="acceptTerms">Acepto los términos y condiciones</label>
        <input formControlName="acceptTerms" type="checkbox" id="acceptTerms" name="acceptTerms">
    </div>
    <button type="submit" [disabled]="registerForm.invalid">ENVIAR</button>
    <button type="submit">ELIMINAR LOS CAMPOS</button>

</form>
}